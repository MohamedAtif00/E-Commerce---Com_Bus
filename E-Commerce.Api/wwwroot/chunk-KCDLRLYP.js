import{a as f,b as P,r as o}from"./chunk-2FCRKJNX.js";import{V as c,_ as h,g as a,gb as g,o as m}from"./chunk-GRBNXT45.js";var d=class{};var I=(()=>{let e=class e{constructor(){this.filter=new a({sortColumn:null,searchTerm:null,startPrice:null,endPrice:null,categoryIds:null})}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=c({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var N=(()=>{let e=class e{constructor(t,s){this._http=t,this.filterService=s,this.Product=new d,this.file=g(null),this.files=new a([]),this.files$=this.files.asObservable(),this.uploudfiles=[],this._createProduct=o.localhosts.product.addProduct,this._updateProduct=o.localhosts.product.updateProducts,this._addMasterImage=o.localhosts.product.addMasterImage,this._addProductImages=o.localhosts.product.addProductImages,this._addComment=o.localhosts.product.postComment,this._getAllProducts=o.localhosts.product.getAllProductsWithNumber,this._getSingleProduct=o.localhosts.product.getSingleProduct,this._getProductMasterImage=o.localhosts.product.getProductMasterImage,this._getproductImage=o.localhosts.product.getProductImage}CreateNewProduct(){let t=new f({"Content-Type":"application/json"});return this._http.post(this._createProduct,this.Product,{headers:t})}UpdateProduct(t){return this._http.put(this._updateProduct+t,this.Product)}AddMatserImage(t){let s=new FormData;return s.append("file",this.file()),s.append("ProductId",t),this._http.post(this._addMasterImage,s)}AddProductImages(t,s){return this._http.post(this._addProductImages+s,t)}AddComment(t){return this._http.post(this._addComment,t)}GetAllProducts(t,s,l,n,u){let r=this.filterService.filter.value,p="";r.categoryIds&&r.categoryIds.forEach(b=>p+=`&categoryIds=${b}`);let _=this._getAllProducts+t+(r.searchTerm?`&searchTerm=${r.searchTerm}`:"")+(r.sortColumn?`&sortColumn=${r.sortColumn}`:"")+(r.startPrice?`&startPrice=${r.startPrice}`:"")+(r.endPrice?`&endPrice=${r.endPrice}`:"")+(r.categoryIds&&r.categoryIds.length!=0?p:"");return this._http.get(_)}GetSingleProduct(t){return this._http.get(this._getSingleProduct+t)}GetProductMasterImage(t){return this._http.get(this._getProductMasterImage+t,{responseType:"blob"})}getProductImage(t,s){return this._http.get(this._getproductImage+s+`/${t}`,{observe:"response",responseType:"blob"}).pipe(m(l=>{let n=l.headers.get("Content-Disposition"),u="default.jpg";if(n){let r=n.match(/filename="(.+)"/);r&&(u=r[1])}return{blob:l.body,fileName:u}}))}};e.\u0275fac=function(s){return new(s||e)(h(P),h(I))},e.\u0275prov=c({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();export{d as a,I as b,N as c};
