import{a as f,b as _,r as s}from"./chunk-MXDQPGS7.js";import{V as d,_ as h,g as c,hb as P,o as m}from"./chunk-74T7YZYI.js";var I=(()=>{let r=class r{constructor(){this.filter=new c({sortColumn:null,searchTerm:null,startPrice:null,endPrice:null,totalReviews:null,asend:null,categoryIds:null})}};r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=d({token:r,factory:r.\u0275fac,providedIn:"root"});let i=r;return i})();var R=(()=>{let r=class r{constructor(t,e){this._http=t,this.filterService=e,this.Product={name:"",nameArab:"",description:"",descriptionArab:"",discount:0,categoryId:"",price:0,hasPercentage:!1,stockQuantity:0},this.file=P(null),this.files=new c([]),this.files$=this.files.asObservable(),this.uploudfiles=[],this._createProduct=s.localhosts.product.addProduct,this._updateProduct=s.localhosts.product.updateProducts,this._addMasterImage=s.localhosts.product.addMasterImage,this._addProductImages=s.localhosts.product.addProductImages,this._addComment=s.localhosts.product.postComment,this._addProductToCarsoul=s.localhosts.product.addProductToCarsoul,this._getAllProducts=s.localhosts.product.getAllProductsWithNumber,this._getSingleProduct=s.localhosts.product.getSingleProduct,this._getProductMasterImage=s.localhosts.product.getProductMasterImage,this._getproductImage=s.localhosts.product.getProductImage,this._getSpecialProducts=s.localhosts.product.getSpecialProducts,this._getAllReviews=s.localhosts.product.getAllReviews}CreateNewProduct(){let t=new f({"Content-Type":"application/json"});return this._http.post(this._createProduct,this.Product,{headers:t})}UpdateProduct(t){return this._http.put(this._updateProduct+t,this.Product)}AddMatserImage(t){let e=new FormData;return e.append("file",this.file()),e.append("ProductId",t),this._http.post(this._addMasterImage,e)}AddProductImages(t,e){return this._http.post(this._addProductImages+e,t)}AddComment(t){return this._http.post(this._addComment,t)}AddProductToCarsoul(t,e){return console.log(this._addProductToCarsoul+t+"/"+e),this._http.get(this._addProductToCarsoul+t+"/"+e)}GetAllProducts(t,e,a,l,n,u){console.log(a);let o=this.filterService.filter.value,p="";o.categoryIds&&o.categoryIds.forEach(v=>p+=`&categoryIds=${v}`);let g=this._getAllProducts+t+(o.searchTerm?`&searchTerm=${e}`:"")+(o.sortColumn?`&sortColumn=${a}`:"")+(o.startPrice?`&startPrice=${o.startPrice}`:"")+(o.endPrice?`&endPrice=${o.endPrice}`:"")+(o.asend?`&asend=${o.asend}`:"")+(o.totalReviews?`&totalReviews=${o.totalReviews}`:"")+(o.categoryIds&&o.categoryIds.length!=0?p:"");return console.log(g),this._http.get(g)}GetSingleProduct(t){return this._http.get(this._getSingleProduct+t)}GetProductMasterImage(t){return this._http.get(this._getProductMasterImage+t,{responseType:"blob"})}getProductImage(t,e){return this._http.get(this._getproductImage+e+`/${t}`,{observe:"response",responseType:"blob"}).pipe(m(a=>{let l=a.headers.get("Content-Disposition"),n="default.jpg";if(l){let u=l.match(/filename="(.+)"/);u&&(n=u[1])}return{blob:a.body,fileName:n}}))}GetSpecialProducts(t){return this._http.get(this._getSpecialProducts+t)}GetAllReviews(){return this._http.get(this._getAllReviews)}};r.\u0275fac=function(e){return new(e||r)(h(_),h(I))},r.\u0275prov=d({token:r,factory:r.\u0275fac,providedIn:"root"});let i=r;return i})();export{I as a,R as b};
